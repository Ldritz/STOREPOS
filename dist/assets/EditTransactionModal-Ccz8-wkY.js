import{r as a,j as e}from"./vendor-react-DYaHPGH9.js";import{T as j,E as y,i as v}from"./index-75GWciUF.js";import"./vendor-B_ioZ_iA.js";import"./vendor-firebase-Bk-C1n0P.js";const k=({isOpen:x,onClose:n,onSave:g,transactionToEdit:t})=>{const[l,i]=a.useState(""),[u,m]=a.useState(""),[o,c]=a.useState("");if(a.useEffect(()=>{t&&(i(t.name||""),m(t.amount.toString()),c(new Date(t.date).toISOString().split("T")[0]))},[t]),!x||!t)return null;const f=s=>{if(s.preventDefault(),!t)return;const p=parseFloat(u);l&&!isNaN(p)&&(g({...t,name:l,amount:p,date:o?new Date(o).toISOString():new Date().toISOString()}),n())},b=t.type===j.Expense&&t.expenseSubtype===y.General,r="w-full px-3 py-2 bg-background border border-input rounded-lg focus:outline-none focus:ring-2 focus:ring-ring",h=`${r} bg-muted/50 cursor-not-allowed`,d="block text-sm font-medium text-muted-foreground mb-1.5";return e.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:e.jsxs("div",{className:"relative w-full max-w-lg rounded-xl bg-background border border-border shadow-2xl animate-slide-in-up",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-border/40",children:[e.jsx("h2",{className:"text-xl font-semibold tracking-tight",children:"Edit Transaction"}),e.jsx("button",{onClick:n,className:"rounded-lg p-2.5 text-muted-foreground hover:text-foreground hover:bg-muted/80 transition-colors","aria-label":"Close modal",children:e.jsx(v,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{className:"px-6 py-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"edit_name",className:d,children:"Name"}),e.jsx("input",{type:"text",id:"edit_name",value:l,onChange:s=>i(s.target.value),required:!0,className:r})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"edit_amount",className:d,children:"Amount"}),e.jsx("input",{type:"number",id:"edit_amount",value:u,onChange:s=>m(s.target.value),required:!0,min:"0.01",step:"0.01",disabled:!b,className:b?r:h})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"edit_date",className:d,children:"Date"}),e.jsx("input",{type:"date",id:"edit_date",value:o,onChange:s=>c(s.target.value),required:!0,className:r})]})]}),e.jsxs("div",{className:"flex items-center justify-end px-6 py-4 border-t border-border/40 bg-muted/40 gap-3",children:[e.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 rounded-lg font-semibold text-sm bg-muted hover:bg-muted/80 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg font-semibold text-sm bg-primary text-primary-foreground hover:bg-primary/90 transition-colors",children:"Save Changes"})]})]})]})})};export{k as default};
