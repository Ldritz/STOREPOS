import{j as e,S,e as b,f as I,d as P}from"./index-Dz0qwNSJ.js";import{R as h,r as d}from"./charts-BYcMWlQw.js";import"./vendor-CWc6w16D.js";const q=h.memo(({isOpen:t,onClose:n,onSave:x,item:s,profitMarginDivisor:m})=>{const[o,l]=d.useState({name:(s==null?void 0:s.name)||"",category:(s==null?void 0:s.category)||"",unit:(s==null?void 0:s.unit)||"",cost:(s==null?void 0:s.cost)||0,price:(s==null?void 0:s.price)||0,stock:(s==null?void 0:s.stock)||0}),c=d.useMemo(()=>o.cost/m,[o.cost,m]),i=a=>{a.preventDefault();const u={...o,price:c};x(u),n()};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 w-full max-w-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold",children:s?"Edit Item":"Add New Item"}),e.jsx("button",{onClick:n,className:"text-muted-foreground hover:text-foreground",children:e.jsx(b,{className:"w-6 h-6 rotate-45"})})]}),e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),e.jsx("input",{type:"text",value:o.name,onChange:a=>l({...o,name:a.target.value}),className:"w-full p-2 border border-border rounded-md bg-background text-foreground",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),e.jsxs("select",{value:o.category,onChange:a=>l({...o,category:a.target.value}),className:"w-full p-2 border border-border rounded-md bg-background text-foreground",required:!0,children:[e.jsx("option",{value:"",children:"Select Category"}),e.jsx("option",{value:"Fertilizers",children:"Fertilizers"}),e.jsx("option",{value:"Pesticides",children:"Pesticides"}),e.jsx("option",{value:"Seeds",children:"Seeds"}),e.jsx("option",{value:"Tools",children:"Tools"}),e.jsx("option",{value:"Equipment",children:"Equipment"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Unit"}),e.jsxs("select",{value:o.unit,onChange:a=>l({...o,unit:a.target.value}),className:"w-full p-2 border border-border rounded-md bg-background text-foreground",required:!0,children:[e.jsx("option",{value:"",children:"Select Unit"}),e.jsx("option",{value:"kg",children:"Kilogram (kg)"}),e.jsx("option",{value:"g",children:"Gram (g)"}),e.jsx("option",{value:"L",children:"Liter (L)"}),e.jsx("option",{value:"ml",children:"Milliliter (ml)"}),e.jsx("option",{value:"pcs",children:"Pieces (pcs)"}),e.jsx("option",{value:"pack",children:"Pack"}),e.jsx("option",{value:"box",children:"Box"}),e.jsx("option",{value:"bottle",children:"Bottle"}),e.jsx("option",{value:"bag",children:"Bag"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cost Price (₱)"}),e.jsx("input",{type:"number",step:"0.01",value:o.cost,onChange:a=>l({...o,cost:parseFloat(a.target.value)||0}),className:"w-full p-2 border border-border rounded-md bg-background text-foreground",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Selling Price (₱)"}),e.jsx("input",{type:"number",step:"0.01",value:c.toFixed(2),onChange:a=>l({...o,price:parseFloat(a.target.value)||0}),className:"w-full p-2 border border-border rounded-md bg-background text-foreground",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Stock"}),e.jsx("input",{type:"number",value:o.stock,onChange:a=>l({...o,stock:parseInt(a.target.value)||0}),className:"w-full p-2 border border-border rounded-md bg-background text-foreground",required:!0})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsxs("button",{type:"submit",className:"flex-1 bg-primary text-primary-foreground py-2 px-4 rounded-md hover:bg-primary/90 transition-colors",children:[s?"Update":"Add"," Item"]}),e.jsx("button",{type:"button",onClick:n,className:"flex-1 bg-secondary text-secondary-foreground py-2 px-4 rounded-md hover:bg-secondary/80 transition-colors",children:"Cancel"})]})]})]})}):null}),E=h.memo(({item:t,onEdit:n,onDelete:x})=>e.jsxs("div",{className:"bg-card border border-border rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"font-semibold text-foreground",children:t.name}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>n(t),className:"p-1 text-muted-foreground hover:text-foreground transition-colors",title:"Edit item",children:e.jsx(I,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>x(t.id),className:"p-1 text-destructive hover:text-destructive/80 transition-colors",title:"Delete item",children:e.jsx(P,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Category:"}),e.jsx("span",{className:"ml-1 text-foreground",children:t.category})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Unit:"}),e.jsx("span",{className:"ml-1 text-foreground",children:t.unit})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Cost:"}),e.jsxs("span",{className:"ml-1 text-foreground",children:["₱",t.cost.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground",children:"Price:"}),e.jsxs("span",{className:"ml-1 text-foreground",children:["₱",t.price.toFixed(2)]})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Stock:"}),e.jsxs("span",{className:`ml-1 font-semibold ${t.stock<=5?"text-destructive":"text-foreground"}`,children:[t.stock," ",t.unit]})]})]})]})),M=h.memo(({inventory:t,onSaveItem:n,onDeleteItem:x,profitMarginDivisor:s})=>{const[m,o]=d.useState(!1),[l,c]=d.useState(),[i,a]=d.useState(""),[u,j]=d.useState(""),p=d.useMemo(()=>t.filter(r=>{const g=r.name.toLowerCase().includes(i.toLowerCase())||r.category.toLowerCase().includes(i.toLowerCase()),w=u===""||r.category===u;return g&&w}),[t,i,u]),f=d.useMemo(()=>[...new Set(t.map(g=>g.category))].sort(),[t]),v=t.length,N=t.filter(r=>r.stock<=5).length,y=()=>{c(void 0),o(!0)},k=r=>{c(r),o(!0)},C=r=>{n(r),o(!1),c(void 0)};return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-card border border-border p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Total Products"}),e.jsx("p",{className:"text-3xl font-bold text-primary",children:v})]}),e.jsxs("div",{className:"bg-card border border-border p-4 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Low Stock Items"}),e.jsx("p",{className:"text-3xl font-bold text-destructive",children:N})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(S,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"Search items...",value:i,onChange:r=>a(r.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-md bg-background text-foreground"})]}),e.jsxs("select",{value:u,onChange:r=>j(r.target.value),className:"px-4 py-2 border border-border rounded-md bg-background text-foreground",children:[e.jsx("option",{value:"",children:"All Categories"}),f.map(r=>e.jsx("option",{value:r,children:r},r))]}),e.jsxs("button",{onClick:y,className:"bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Add Item"]})]}),p.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map(r=>e.jsx(E,{item:r,onEdit:k,onDelete:x},r.id))}):e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx("p",{className:"font-semibold",children:"No items found."}),e.jsx("p",{className:"text-sm",children:"Add some items to get started!"})]}),e.jsx(q,{isOpen:m,onClose:()=>o(!1),onSave:C,item:l,profitMarginDivisor:s})]})});export{M as default};
